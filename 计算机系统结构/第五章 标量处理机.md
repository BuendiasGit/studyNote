# 第五章 标量处理及机

## 5.1 重叠方式

### 5.1.1 重叠原理与一次重叠

重叠解释虽然不能加快一条指令的解释，却能加快相邻两条指令以至整段程序的解释。

1）要解决主存冲突

2）要解决分析与执行操作的并行

3）要解决之零件各种相关的处理

### 5.1.2 相关处理

#### 主存空间数相关的处理

是指相邻的两条指令之间出现对主存同一单元要求线写后读的关联。

自动实现推后“分析k+1”。

#### 通用寄存器组相关的处理

推后“分析k+1”和设置“相关专用通路”是解决重叠方式相关处理的两种基本方法。

## 5.2 流水方式

### 5.2.1 基本概念

#### 1.工作原理

流水和重叠在概念上没有什么差别，流水可以看作重叠的隐身。两者的差别只在于一次重叠是把一条指令的解释分为两个子过程，流水是分为更多的子过程。

#### 2.流水的分类

按多功能流水线的隔断能否允许同时用于多种不同功能连接流水，可把流水线分为静态流水线和动态流水线。

##### 静态流水线

在某一时间内各段之恶能按一种功能连接流水

##### 动态流水线

同一时间内可按不同运算或功能连接。

从计算机所具有的数据表示角度，可以把流水线处理机分为标量流水机和向量流水机。标量流水机没有向量数据表示，只能用标量循环方式处理向量和数组，如IBM 360用的标量。CRAY-1用的向量。

### 5.2.2 标量流水机的主要性能

吞吐量T、加速比S和效率

#### 1.吞吐量和加速比

吞吐量是流水线单位时间里能流出的任务数或结果数。

加速比表示流水方式相对于非流水顺序方式速度提高的比值。

#### 2.效率

指流水线中设备的实际使用时间占整个运行时间之比。

### 5.2.3 标量流水机的相关处理和控制机构

#### 1.局部性相关的处理

指令相关、访存操作数相关和通用寄存器数相关等局部性相关。

标量流水机对局部性相关的处理一般采用总线式分布方式控制管理。

#### 2.全局性相关的处理

全局性相关指的是已进入流水线的转移指令和其后续指令之间相关。

#### 非线性流水线的调度（大题 P193）